<app-navbar>
  <app-page-title title="Browse events"></app-page-title>
  <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="20px" id="eventManager">
    <div class="cards" fxFlex.lt-md="0 0 60%" fxFlex.lt-sm="0 1">
      <mat-toolbar class="mat-primary rounded-bar">
        Available
      </mat-toolbar>
      <mat-card *ngIf="availableEvents.length == 0">
        <mat-card-content>
          <p>
            Nothing to display.
          </p>
        </mat-card-content>
      </mat-card>
      <mat-card *ngFor="let event of availableEvents">
        <mat-card-header>
          <mat-card-title>{{ event.displayName }}</mat-card-title>
          <mat-card-subtitle>{{ event.startTime }} - {{ event.endTime }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <p>
            {{ event.description }}
          </p>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button matTooltip="Sign up for this event">SIGN UP</button>
          <button mat-button matTooltip="Contact the facilitators of this event">CONTACT</button>
        </mat-card-actions>
      </mat-card>
    </div>
    <div fxFlex.lt-md="0 0 40%" fxFlex.lt-sm="0 1">
      <mat-toolbar class="mat-primary rounded-bar">
        Your events
      </mat-toolbar>
      <mat-tab-group>
        <mat-tab>
          <ng-template matTabLabel>
            <span matBadge="{{ myEvents.future.length }}" matBadgeOverlap="false">Upcoming</span>
          </ng-template>
          <mat-accordion *ngIf="myEvents.future.length == 0">
            <mat-expansion-panel [disabled]="true">
              <mat-expansion-panel-header>
                Nothing to display.
              </mat-expansion-panel-header>
            </mat-expansion-panel>
          </mat-accordion>
          <mat-accordion *ngFor="let future of myEvents.future">
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                {{ future.displayName }}
              </mat-expansion-panel-header>
              {{ future.description }}
              <mat-action-row>
                <button mat-button>Drop</button>
              </mat-action-row>
            </mat-expansion-panel>
          </mat-accordion>
        </mat-tab>
        <mat-tab>
          <ng-template matTabLabel>
            <span matBadge="{{ myEvents.past.length }}" matBadgeOverlap="false">Past</span>
          </ng-template>
          <mat-accordion *ngIf="myEvents.past.length == 0">
            <mat-expansion-panel [disabled]="true">
              <mat-expansion-panel-header>
                Nothing to display.
              </mat-expansion-panel-header>
            </mat-expansion-panel>
          </mat-accordion>
          <mat-accordion *ngFor="let past of myEvents.past">
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                {{ past.displayName }}
              </mat-expansion-panel-header>
              {{ past.description }}
            </mat-expansion-panel>
          </mat-accordion>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</app-navbar>
